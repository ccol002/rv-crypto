length,g=void 0;a<f&&(g=e[a]);a++)e[a]=b.call(this,g,c,d)}return e.filter(function(h){return!!h}).join(",")};k.Ha=function(a){return a.replace(Dd,function(b,c,d){-1<d.indexOf("+")?d=d.replace(/\+/g,"___"):-1<d.indexOf("___")&&(d=d.replace(/___/g,"+"));return":"+c+"("+d+")"})};
k.sb=function(a){for(var b=[],c;c=a.match(Ed);){var d=c.index,e=rd(a,d);if(-1===e)throw Error(c.input+" selector missing ')'");c=a.slice(d,e+1);a=a.replace(c,"\ue000");b.push(c)}return{pa:a,matches:b}};k.wb=function(a,b){var c=a.split("\ue000");return b.reduce(function(d,e,f){return d+e+c[f+1]},c[0])};
k.ja=function(a,b,c){var d=this,e=!1;a=a.trim();var f=Dd.test(a);f&&(a=a.replace(Dd,function(l,m,n){return":"+m+"("+n.replace(/\s/g,"")+")"}),a=this.Ha(a));var g=Ed.test(a);if(g){var h=this.sb(a);a=h.pa;h=h.matches}a=a.replace(Fd,":host $1");a=a.replace(Gd,function(l,m,n){e||(l=d.Cb(n,m,b,c),e=e||l.stop,m=l.Ib,n=l.value);return m+n});g&&(a=this.wb(a,h));f&&(a=this.Ha(a));return a=a.replace(Hd,function(l,m,n,t){return'[dir="'+n+'"] '+m+t+", "+m+'[dir="'+n+'"]'+t})};
k.Cb=function(a,b,c,d){var e=a.indexOf("::slotted");0<=a.indexOf(":host")?a=this.Eb(a,d):0!==e&&(a=c?this.Ga(a,c):a);c=!1;0<=e&&(b="",c=!0);if(c){var f=!0;c&&(a=a.replace(Id,function(g,h){return" > "+h}))}return{value:a,Ib:b,stop:f}};k.Ga=function(a,b){a=a.split(/(\[.+?\])/);for(var c=[],d=0;d<a.length;d++)if(1===d%2)c.push(a[d]);else{var e=a[d];if(""!==